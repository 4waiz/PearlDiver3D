<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Heritage Pearl Quest 3D</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <canvas id="bg"></canvas>

  <div id="ui">
    <!-- TOP HUD -->
    <div id="hud" class="glass hidden">
      <div class="hud-item"><strong>Time</strong> <span id="time">05:00</span></div>
      <div class="hud-item"><strong>O₂</strong> <span id="oxygen">100%</span></div>
      <div class="hud-item"><strong>Score</strong> <span id="score">0</span></div>
      <div class="hud-item"><strong>Bank</strong> x<span id="mult">1.0</span></div>
      <div class="hud-item"><strong>Carried</strong> <span id="carried">0</span></div>
    </div>

    <div id="crosshair">+</div>

    <!-- MAIN MENU -->
    <div id="menu" class="panel glass">
      <h1>Heritage Pearl Quest 3D</h1>
      <h2>Innovate Your Heritage Game</h2>
      <p class="tag">Reviving Emirati pearling culture through play.</p>
      <div class="buttons">
        <button id="btnStory">Start Story</button>
        <button id="btnAdventure">Free Dive (Score)</button>
        <button id="btnHow">How to Play</button>
        <button id="btnLeaderboard">Leaderboard</button>
        <button id="btnSettings">Settings</button>
        <button id="btnCredits">Credits</button>
      </div>
    </div>

    <!-- PAUSE -->
    <div id="pause" class="panel glass hidden">
      <h2>Paused</h2>
      <div class="buttons">
        <button id="resumeBtn">Resume</button>
        <button id="restartBtn">Restart</button>
        <button id="menuBtn">Main Menu</button>
      </div>
      <p class="hint">Press <b>P</b> to toggle pause.</p>
    </div>

    <!-- HOW TO -->
    <div id="how" class="panel glass hidden">
      <h2>How to Play</h2>
      <ul class="how">
        <li><b>WASD</b> swim • <b>Space/Ctrl</b> ascend/descend • <b>Shift</b> boost</li>
        <li><b>E</b> interact: collect pearls / artifacts / bank at the dhow</li>
        <li><b>P</b> pause • <b>M</b> mute • <b>F</b> fullscreen</li>
        <li>Manage oxygen and avoid jellyfish stings.</li>
      </ul>
      <button class="back">Back</button>
    </div>

    <!-- SETTINGS -->
    <div id="settings" class="panel glass hidden">
      <h2>Settings</h2>
      <div class="row">
        <label>Mouse sensitivity</label>
        <input id="sens" type="range" min="0.2" max="1.6" step="0.05" value="1"/>
      </div>
      <div class="row">
        <label>Music</label>
        <button id="muteBtn">Mute/Unmute (M)</button>
      </div>
      <div class="row">
        <label>Graphics</label>
        <button id="hqBtn">Toggle High Quality</button>
      </div>
      <button class="back">Back</button>
    </div>

    <!-- LEADERBOARD -->
    <div id="board" class="panel glass hidden">
      <h2>Top Divers</h2>
      <ol id="leaders"></ol>
      <button class="back">Back</button>
    </div>

    <!-- CREDITS -->
    <div id="credits" class="panel glass hidden">
      <h2>Credits</h2>
      <p><b>Design & Development:</b> Awaiz Ahmed — Software Engineering Student</p>
      <p>Built for the competition: <b>“Innovate Your Heritage Game”</b></p>
      <p>Goal: Revive Emirati heritage in an innovative, student‑led experience.</p>
      <button class="back">Back</button>
    </div>

    <!-- STORY PROMPTS -->
    <div id="prompt" class="panel glass hidden small"></div>

    <!-- GAME OVER -->
    <div id="over" class="panel glass hidden">
      <h2>Mission Complete</h2>
      <p id="overMsg">Your score: <span id="finalScore">0</span></p>
      <div class="save">
        <input id="playerName" placeholder="Enter your name (e.g., Awaiz Ahmed)"/>
        <button id="saveBtn">Save to Leaderboard</button>
      </div>
      <div class="buttons">
        <button id="again">Play Again</button>
        <button class="back">Main Menu</button>
      </div>
    </div>
  </div>

  <script type="module" src="main.js"></script>

  <script type="importmap">
  {
    "imports": {
      "three": "https://unpkg.com/three@0.161.0/build/three.module.js",
      "three/examples/jsm/controls/PointerLockControls.js": "https://unpkg.com/three@0.161.0/examples/jsm/controls/PointerLockControls.js"
    }
  }
  </script>

  <script type="module" src="main.js"></script>
</body>
</html>
